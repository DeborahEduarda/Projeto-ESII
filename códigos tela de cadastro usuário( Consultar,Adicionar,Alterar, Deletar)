package br.com.tenisclube.telas;


import br.com.tenisclube.dal.UsuarioDAO;
import interDAO.usuarioInterDAO;
import javax.swing.JOptionPane;


/**
 *
 * @author debor
 */

public class TelaUsuario extends javax.swing.JInternalFrame {
 
    public TelaUsuario() {
        initComponents();
                  
        
    }
    
    private void btnUsuDeleteActionPerformed(java.awt.event.ActionEvent evt) {                                             
        // Chamando o metodo remover
        //remover();
        int iduser = Integer.parseInt(txtUsuId.getText());
        UsuarioDAO uDAO = new UsuarioDAO();
        uDAO.apagar(iduser);
        txtUsuId.setText("");
        txtUsuNome.setText("");
        txtUsuCel.setText("");
        txtUsuLogin.setText("");
        txtUsuSenha.setText("");
        txtUsuCpf.setText("");
        txtUsuEnd.setText("");
        txtUsuBai.setText("");
        txtUsuEmail.setText("");
        txtUsuCid.setText("");
        txtUsuRg.setText("");
        txtUsuEst.setText("");
        txtUsuCep.setText("");
           // txtUsuCad.setText(u.getCadastro().toSring);
        cboUsuPerfil.setSelectedItem("");
        
        
    }                                            

private void btnUsuReadActionPerformed(java.awt.event.ActionEvent evt) {                                           
        // Chamando o metodo consultar
        //consultar();
        int iduser = Integer.parseInt(txtUsuId.getText());
        
        UsuarioDAO uDAO = new UsuarioDAO();
        usuarioInterDAO u = uDAO.consultar(iduser);
        if (u == null){
            JOptionPane.showMessageDialog(this, "Usuario n√£o cadastrado");
        }else{
            //preencher o form com os dados
            
            txtUsuNome.setText(u.getNome());
            txtUsuCel.setText(u.getFone());
            txtUsuLogin.setText(u.getUsuario());
            txtUsuSenha.setText(u.getSenha());
            txtUsuCpf.setText(u.getCpf());
            txtUsuEnd.setText(u.getEndereco());
            txtUsuBai.setText(u.getBairro());
            txtUsuEmail.setText(u.getEmail());
            txtUsuCid.setText(u.getCidade());
            txtUsuRg.setText(u.getRg());
            txtUsuEst.setText(u.getEstado());
            txtUsuCep.setText(u.getCep());
            cboUsuPerfil.setSelectedItem(u.getPerfil());
            
        }
    }                                
    private void btnUsuCreateActionPerformed(java.awt.event.ActionEvent evt) {                                             
        // chamando o metodo adicionar
        usuarioInterDAO u = new usuarioInterDAO();
        //u.setIdUser (Integer.getInteger(txtUsuId.getText())); 
        u.setNome(txtUsuNome.getText()); 
        u.setFone(txtUsuCel.getText()); 
        u.setUsuario(txtUsuLogin.getText());
        u.setSenha(txtUsuSenha.getText());
        u.setCpf(txtUsuCpf.getText());
        u.setEndereco(txtUsuEnd.getText());
        u.setBairro(txtUsuBai.getText());
        u.setEmail(txtUsuEmail.getText());
        u.setCidade(txtUsuCid.getText());
        u.setRg (txtUsuRg.getText());
        u.setEstado(txtUsuEst.getText());
        u.setCep(txtUsuCep.getText());
        u.setIdUser(Integer.parseInt(txtUsuId.getText()));
        u.setPerfil(cboUsuPerfil.getSelectedItem().toString());
        UsuarioDAO uDAO = new UsuarioDAO();
        uDAO.cadastrar(u);
       
    }                                            

private void btnUsuUpdateActionPerformed(java.awt.event.ActionEvent evt) {                                             
        // chamando o metodo alterar
       // alterar();
       int iduser = Integer.parseInt(txtUsuId.getText());
       usuarioInterDAO u = new usuarioInterDAO();
        u.setIdUser(iduser);
        u.setNome(txtUsuNome.getText()); 
        u.setFone(txtUsuCel.getText()); 
        u.setUsuario(txtUsuLogin.getText());
        u.setSenha(txtUsuSenha.getText());
        u.setCpf(txtUsuCpf.getText());
        u.setEndereco(txtUsuEnd.getText());
        u.setBairro(txtUsuBai.getText());
        u.setEmail(txtUsuEmail.getText());
        u.setCidade(txtUsuCid.getText());
        u.setRg (txtUsuRg.getText());
        u.setEstado(txtUsuEst.getText());
        u.setCep(txtUsuCep.getText());
        u.setPerfil(cboUsuPerfil.getSelectedItem().toString());
        
        UsuarioDAO uDAO = new UsuarioDAO();
        uDAO.alterar(u);
        
        
        txtUsuId.setText("");
        txtUsuNome.setText("");
        txtUsuCel.setText("");
        txtUsuLogin.setText("");
        txtUsuSenha.setText("");
        txtUsuCpf.setText("");
        txtUsuEnd.setText("");
        txtUsuBai.setText("");
        txtUsuEmail.setText("");
        txtUsuCid.setText("");
        txtUsuRg.setText("");
        txtUsuEst.setText("");
        txtUsuCep.setText("");
        cboUsuPerfil.setSelectedItem("");
   
    }                                            

    
    }                                        
 public static void main(String args[]) {
        /* Set the Nimbus look and feel */
        //<editor-fold defaultstate="collapsed" desc=" Look and feel setting code (optional) ">
        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.
         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html 
         */
        try {
            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {
                if ("Nimbus".equals(info.getName())) {
                    javax.swing.UIManager.setLookAndFeel(info.getClassName());
                    break;
                }
            }
        } catch (ClassNotFoundException ex) {
            java.util.logging.Logger.getLogger(TelaLogin.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (InstantiationException ex) {
            java.util.logging.Logger.getLogger(TelaLogin.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (IllegalAccessException ex) {
            java.util.logging.Logger.getLogger(TelaLogin.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (javax.swing.UnsupportedLookAndFeelException ex) {
            java.util.logging.Logger.getLogger(TelaLogin.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        }
        //</editor-fold>

        /* Create and display the form */
        java.awt.EventQueue.invokeLater(new Runnable() {
            public void run() {
                new TelaUsuario().setVisible(true);
            }
        });
    }
